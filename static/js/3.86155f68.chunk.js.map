{"version":3,"sources":["components/hoc/witchAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/PostsForm/PostsForm.js","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","witchAuthRedirect","Component","connect","props","to","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatus","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","type","ProfileInfo","profile","className","styles","profileInfo","descriptionBlock","src","photos","large","descriptionBlockItem","aboutMe","fullName","contacts","facebook","vk","twitter","instagram","youtube","website","lookingForAJobDescription","Post","item","alt","message","likesCount","maxLength10","maxLengthCreater","PostsFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","validate","required","placeholder","name","component","Textare","MyPosts","React","memo","postsElement","posts","map","p","postsBlock","addPost","newPostText","MyPostsContainer","profilePage","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.86155f68.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\nexport const witchAuthRedirect = (Component) => {\r\n\r\n  const RedirectComponent = (props) => {\r\n\r\n    if(!props.isAuth) return <Redirect to=\"/login\"/>\r\n    return <Component {...props}/>\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3OwzV\",\"descriptionBlockItem\":\"ProfileInfo_descriptionBlockItem__2bTTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__3ouMR\",\"posts\":\"MyPosts_posts__xuCT2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__13LJa\"};","import React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n  let [editMode, setEditMode] = useState(true)\r\n  let [status, setStatus] = useState(props.status)\r\n\r\n  useEffect( () => {\r\n    setStatus((props.status))\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(false)\r\n  }\r\n  const deactivateEditMode = () => {\r\n    setEditMode(true)\r\n    props.updateStatus(status)\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {editMode\r\n        ? <span\r\n          onDoubleClick={activateEditMode}\r\n        >{props.status || \"Нет статуса\"}</span>\r\n        : <input\r\n          value={status}\r\n          onChange={onStatusChange}\r\n          autoFocus={true}\r\n          onBlur={deactivateEditMode}\r\n          type=\"text\"/>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport styles from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/Preloader/Preloder\";\r\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n  if (!profile) {\r\n    return <Preloader/>\r\n  }\r\n  return (\r\n    <div className={styles.profileInfo}>\r\n      <div className={styles.descriptionBlock}>\r\n        <img src={profile.photos.large}/>\r\n        <div className={styles.descriptionBlockItem}>\r\n          <ProfileStatus status={status} updateStatus={updateStatus}/>\r\n          <div>\r\n            <div>\r\n              Обо мне:\r\n            </div>\r\n            {profile.aboutMe}\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Имя:\r\n            </div>\r\n            {profile.fullName}\r\n          </div>\r\n          <div>\r\n            <span>Контакты:</span>\r\n            <div>\r\n              Facebook: {profile.contacts.facebook}\r\n            </div>\r\n            <div>\r\n              Vkontakte: {profile.contacts.vk}\r\n            </div>\r\n            <div>\r\n              Twitter: {profile.contacts.twitter}\r\n            </div>\r\n            <div>\r\n              Instagram: {profile.contacts.instagram}\r\n            </div>\r\n            <div>\r\n              Youtube: {profile.contacts.youtube}\r\n            </div>\r\n            <div>\r\n              Website: {profile.contacts.website}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Работа:\r\n            </div>\r\n            {profile.lookingForAJobDescription}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport styles from '../Post/Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\r\n  return (\r\n    <div className={styles.item}><img\r\n      src=\"https://i1.wp.com/sova.ponominalu.ru/wp-content/uploads/2019/08/ava-max.jpg?fit=2000%2C1333&ssl=1\"\r\n      alt=\"\"/>\r\n    { props.message }\r\n      <div>\r\n        <span>Like</span> {props.likesCount}\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nexport default Post;","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreater, required} from \"../../../../utils/validators/validators\";\r\nimport {Textare} from \"../../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreater(10)\r\n\r\nconst PostsForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          validate={[required, maxLength10]}\r\n          placeholder=\"Enter your message\"\r\n          name=\"newPostText\"\r\n          component={Textare}/>\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst PostsFormRedux = reduxForm({\r\n  // a unique name for the form\r\n  form: 'profileAddPostsForm'\r\n})(PostsForm)\r\n\r\nexport default PostsFormRedux;","import React from \"react\";\r\nimport styles from '../MyPosts/MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport PostsFormRedux from \"./PostsForm/PostsForm\";\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    let postsElement = props.posts.map(p => (<Post message={p.message} likesCount={p.likesCount}/>));\r\n\r\n    let addNewPost = (value) => {\r\n      props.addPost(value.newPostText)\r\n    }\r\n    return (\r\n      <div className={styles.postsBlock}>\r\n        <h3>My posts</h3>\r\n        <PostsFormRedux onSubmit={addNewPost}/>\r\n        <div className={styles.posts}>\r\n          {postsElement}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nexport default MyPosts;","import React from \"react\";\r\n\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {addPost} from \"../../../redux/profile-reducer\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText:state.profilePage.newPostText,\r\n  }\r\n\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,{addPost})(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport styles from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className={styles.profile}>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n      <MyPostsContainer/>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getStatus, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {witchAuthRedirect} from \"../hoc/witchAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId\r\n      if (!userId) {\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId)\r\n    this.props.getStatus(userId)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile {...this.props}  />\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    // isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfile, updateStatus, getStatus}),\r\n  withRouter,\r\n  witchAuthRedirect\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}